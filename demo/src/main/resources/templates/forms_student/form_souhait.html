<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Vos souhaits</title>
</head>
<body style="margin-left: 10px; margin-right: 10px;"
	onload="countChars(document.getElementById('motivations').value)">
	<div th:fragment="content">
		<h2>Vos souhaits</h2>

		<br> <label> Types de missons souhaités : </label> 
		<select class="form-control" th:field="${student.wish.missions}" multiple="multiple">
			<option th:each="mission : ${listMission}" th:value="${{mission.id}}"
				th:text="${mission.title}" th:field="${student.wish.missions}">
			</option>		
		</select> 
		
		<label for="autre"> Autre mission souhaitée
			(précisez) : </label>
		<textarea class="form-control" id="autre" th:value="${student.wish.otherWish}"
			th:field="${student.wish.otherWish}" maxlength="150" rows="5"
			style="resize: none;"></textarea>
		
		<h2>Vos motivations</h2>

		<div>
			<textarea class="form-control" id="motivations"
				th:value="${student.motivation}" th:field="${student.motivation}"
				oninput="countChars(this.value)" maxlength="900" rows="10"
				style="resize: none;"></textarea>
		</div>
		
		<div class="indications">
			<h5>
				<b><span id="checkCount" style="color: red">&#x2718;</span></b><i>
					Entre 450 et 900 caractères (<span id="charsCount">0</span>)
				</i>
			</h5>
		</div>

		<script>
			function countChars(val) {
				document.getElementById("charsCount").innerHTML = val.length;

				var checkCount = document.getElementById("checkCount");
				if (val.length >= 450) {
					checkCount.innerHTML = "&#x2714;";
					checkCount.style.color = "green";
				} else {
					checkCount.innerHTML = "&#x2718;";
					checkCount.style.color = "red";
				}
			}
		</script>
	</div>
</body>
</html>